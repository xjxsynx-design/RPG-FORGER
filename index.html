<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RPG Forgeworks</title>
<style>
:root{
  --bg:#050507;
  --purple:#7b5cff;
  --purple2:#5f46e6;
  --forge:#ff7a18;
  --ink:#e9e6ff;
  --panel:#120f1f;
  --panelBorder: rgba(123,92,255,.35);
  --shadow: rgba(0,0,0,.55);
  --radius:22px;
  --font: Chalkduster, "Marker Felt", "Bradley Hand", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
html,body{height:100%;margin:0;}
body{
  background: var(--bg);
  color: var(--ink);
  font-family: var(--font);
  overflow:hidden;
}
/* Background scene (brighter, sharper, higher contrast) */
.scene{
  position:fixed; inset:0;
  background:
    radial-gradient(1200px 800px at 50% 65%, rgba(255,122,24,.18), transparent 55%),
    radial-gradient(900px 700px at 50% 85%, rgba(123,92,255,.14), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.85)),
    url("./assets/landing_bg.png");
  background-size: cover;
  background-position: center bottom;
  background-repeat:no-repeat;
  filter: contrast(1.15) brightness(1.12) saturate(1.06);
  transform: scale(1.02); /* avoids edge seams on mobile */
}
/* Subtle vignette for legibility */
.scene::after{
  content:"";
  position:absolute; inset:0;
  background: radial-gradient(closest-side at 50% 55%, transparent 55%, rgba(0,0,0,.55) 100%);
  pointer-events:none;
}
.hero{
  position:relative;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.stack{
  position:absolute;
  left:50%;
  top:56%;
  transform:translate(-50%,-50%);
  width:min(86vw, 520px);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:18px;
}
/* Button ABOVE logo (as requested) */
.enter{
  width:min(82vw, 420px);
  border-radius: var(--radius);
  border: 2px solid rgba(255,122,24,.78);
  background: linear-gradient(180deg, rgba(40,28,70,.94), rgba(14,10,28,.98));
  color: #ffffff;
  font-family: var(--font);
  font-size: 34px;
  padding: 18px 18px;
  box-shadow:
    0 18px 44px rgba(0,0,0,.65),
    0 0 0 6px rgba(255,122,24,.12),
    0 0 26px rgba(255,122,24,.22);
  text-shadow: 0 2px 10px rgba(0,0,0,.55);
  position: relative;
  opacity:0;
  transform: translateY(8px);
  animation: fadeUp .75s ease forwards;
  animation-delay: 1.2s; /* logo first, then button */
}
.enter::before{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: var(--radius);
  box-shadow:
    inset 0 0 0 2px rgba(123,92,255,.28),
    inset 0 12px 22px rgba(255,255,255,.06),
    inset 0 -10px 22px rgba(0,0,0,.35);
  pointer-events:none;
}
.enter:hover{ filter: brightness(1.06); }
.enter:active{ transform: translateY(10px) scale(.99); }
.logo{
  width:min(60vw, 320px);
  max-width: 320px;
  opacity:0;
  transform: translateY(10px);
  filter: drop-shadow(0 14px 34px rgba(0,0,0,.65));
  animation: fadeUp .85s ease forwards;
  animation-delay: .25s;
}
/* Align logo where the anvil is (center/bottom area of the scene) */
@media (max-height: 740px){
  .stack{ top:58%; }
  .enter{ font-size: 30px; padding: 16px; }
}
@media (min-height: 820px){
  .stack{ top:54%; }
}
@keyframes fadeUp{
  to{ opacity:1; transform: translateY(0); }
}


/* ===== Forgeworks v1 Visual Polish Bundle â€” Landing ===== */
.hero-bg{ filter: contrast(1.22) brightness(1.12) saturate(1.10); }
.forge-btn{
  border: 1px solid rgba(255,122,24,0.38);
  background: linear-gradient(180deg, rgba(59,15,88,0.94), rgba(21,10,36,0.94));
  box-shadow: 0 10px 26px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,122,24,0.12) inset, 0 0 30px rgba(255,122,24,0.20);
}


/* Ember drift overlay */
#emberCanvas{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 4;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.85;
}
@media (prefers-reduced-motion: reduce) {
  #emberCanvas{ display:none; }
}


/* ===== Build stamp (Phase A) ===== */
#buildStamp {
  position: fixed;
  left: 50%;
  bottom: 10px;
  transform: translateX(-50%);
  font-size: 12px;
  letter-spacing: 0.06em;
  opacity: 0.55;
  z-index: 999999;
  pointer-events: none;
  user-select: none;
  color: #e6e6e6;
  text-shadow: 0 1px 2px rgba(0,0,0,0.75);
}
</style>
</head>

<body>
<div class="scene" aria-hidden="true"></div>

<div class="hero">
  <div class="stack">
    <button class="enter" id="enterBtn" type="button">Enter RPG Forgeworks</button>
    <img class="logo" src="./assets/rpg_forgeworks_logo.png" alt="RPG Forgeworks logo" />
  </div>
</div>

<script>
  // Keep navigation simple & reliable
  document.getElementById("enterBtn").addEventListener("click", () => {
    window.location.href = "./manager/index.html";
  });
</script>


<audio id="anvilSound" preload="auto"><source src="assets/sfx/anvil_strike.mp3" type="audio/mpeg"></audio>
<script>

(function(){
  const btn = document.querySelector(".forge-btn") || document.querySelector("button");
  if(!btn) return;
  const target = btn.getAttribute("data-href") || "./manager/index.html";
  btn.addEventListener("click", (e)=>{
    e.preventDefault();
    try{
      const a = document.getElementById("anvilSound");
      if(a){
        a.currentTime = 0;
        a.volume = 0.5;
        a.play().catch(()=>{});
      }
    }catch(err){}
    setTimeout(()=>{ window.location.href = target; }, 250);
  }, {passive:false});
})();

</script>

  <canvas id="emberCanvas" aria-hidden="true"></canvas>

<script>
(() => {
  const canvas = document.getElementById('emberCanvas');
  if (!canvas) return;

  const ctx = canvas.getContext('2d');
  let w=0,h=0, dpr = Math.max(1, window.devicePixelRatio || 1);

  function resize() {
    w = Math.floor(window.innerWidth);
    h = Math.floor(window.innerHeight);
    canvas.width = Math.floor(w * dpr);
    canvas.height = Math.floor(h * dpr);
    canvas.style.width = w + 'px';
    canvas.style.height = h + 'px';
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  resize();
  window.addEventListener('resize', resize, {passive:true});

  const embers = [];
  const maxEmbers = 120;
  const spawnPerFrame = 2;

  function rand(min,max) { return Math.random()*(max-min)+min; }

  function spawn() {
    if (embers.length >= maxEmbers) return;
    // spawn near bottom and around hot areas (lower half)
    const e = {
      x: rand(0,w),
      y: rand(h*0.45, h+40),
      r: rand(0.8, 2.8),
      vx: rand(-0.25, 0.25),
      vy: rand(-1.4, -0.5),
      life: rand(0.9, 1.8),
      age: 0,
      flick: rand(0, Math.PI*2),
      hue: rand(20, 45) // orange -> amber
    };
    embers.push(e);
  }

  function draw() {
    ctx.clearRect(0,0,w,h);

    // soft glow pass
    ctx.globalCompositeOperation = 'lighter';

    for (let i=0;i<embers.length;i++) {
      const e = embers[i];
      e.age += 1/60;
      e.x += e.vx;
      e.y += e.vy;
      e.vx += rand(-0.02,0.02);
      e.vy += rand(-0.01,0.01);
      e.flick += 0.15;

      // drift wrap
      if (e.x < -50) e.x = w+50;
      if (e.x > w+50) e.x = -50;

      const t = Math.min(1, e.age / e.life);
      const alpha = (1-t) * (0.55 + 0.45*Math.sin(e.flick)*0.2);
      const glow = e.r * 6;

      // inner spark
      ctx.fillStyle = `hsla(${e.hue}, 95%, 70%, ${alpha})`;
      ctx.beginPath();
      ctx.arc(e.x, e.y, e.r, 0, Math.PI*2);
      ctx.fill();

      // outer glow
      const grad = ctx.createRadialGradient(e.x, e.y, 0, e.x, e.y, glow);
      grad.addColorStop(0, `hsla(${e.hue}, 100%, 75%, ${alpha*0.35})`);
      grad.addColorStop(1, `hsla(${e.hue}, 100%, 55%, 0)`);
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(e.x, e.y, glow, 0, Math.PI*2);
      ctx.fill();
    }

    // cleanup + respawn
    for (let i=embers.length-1;i>=0;i--) {
      if (embers[i].age >= embers[i].life || embers[i].y < -60) embers.splice(i,1);
    }
    for (let i=0;i<spawnPerFrame;i++) spawn();
    requestAnimationFrame(draw);
  }

  // kickstart with a few
  for (let i=0;i<30;i++) spawn();
  requestAnimationFrame(draw);
})();
</script>


<div id="buildStamp">Forgeworks v1.0</div>
</body>
</html>
